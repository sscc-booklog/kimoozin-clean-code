이번 주에는 함수와 이름, 주석, 코드 스타일의 일관성에 대해 공부했다.
좋은 코드를 만드는 핵심은 의도를 분명히 드러내는 이름과 작고 명확한 함수, 그리고 불필요한 주석이 필요 없는 표현력 있는 코드에 있다.

1️. 이름 짓기의 원칙

이름을 정할 때는 의미 있는 맥락을 추가하고, 동시에 불필요한 맥락은 제거해야 한다.
맥락이 분명하면 코드를 이해하기 쉽고, 함수 분리도 자연스러워진다.
예를 들어, 기존의 add 함수가 단순히 두 값을 더하는 기능이라면, 집합에 원소 하나를 추가하는 함수에는 insert나 append 같은 이름이 더 적절하다.
이처럼 함수의 역할과 일관성을 고려한 이름 선택이 중요하다.

함수나 클래스 이름은 일관된 패턴을 유지해야 한다.
동일한 모듈 내에서는 같은 동사나 명사를 반복적으로 사용하여 코드 전체의 흐름이 통일되게 해야 한다.
또한, 의미가 명확하다면 짧은 이름이 긴 이름보다 좋다. 그러나 모호한 짧은 이름보다는 길더라도 서술적인 이름이 훨씬 낫다.
긴 이름은 주석보다 훨씬 유익하며, 코드 자체로 의도를 전달할 수 있다.

2. 좋은 함수의 조건

함수를 만들 때 첫 번째 원칙은 작게, 두 번째는 더 작게 만드는 것이다.
함수는 반드시 한 가지 일만 해야 하며, 그 일을 완벽히 수행해야 한다.
만약 함수 내부에서 의미 있는 이름으로 다른 함수를 추출할 수 있다면, 그 함수는 이미 두 가지 이상의 일을 하고 있는 셈이다.

또한 함수 안의 모든 문장은 동일한 추상화 수준을 가져야 한다.
상위 개념과 세부 구현이 뒤섞이면 함수의 의도가 흐려진다.
좋은 코드는 위에서 아래로 읽히며, 추상화 수준이 점진적으로 낮아지는 ‘내려가기 규칙’을 따른다.

함수가 작고 단순할수록 좋은 이름을 붙이기 쉽다.
작은 함수는 설계 의도를 더 쉽게 드러내므로, 리팩토링과 개선도 용이하다.
이때 함수 이름은 길어도 상관없으며, 의도를 완전히 드러내는 이름이 가장 좋다.

3. 함수의 인수

함수의 이상적인 인수 개수는 0개, 다음은 1개, 그 다음은 2개다.
3개는 가능한 피하고, 4개 이상은 정말 필요한 경우에만 사용해야 한다.
또한 입력 인수를 변환할 때는 그 결과를 반환값으로 돌려주는 것이 바람직하다.

불필요한 플래그 인수(true/false 등)는 피해야 하며, 인수가 많아진다면 새로운 클래스로 묶어 의미를 명확히 표현할 수 있다.
예를 들어 좌표를 전달할 때 (x, y, radius) 대신 (Point center, double radius)처럼 구성하는 것이 더 자연스럽다.

4. 부수효과 없는 코드

함수는 부수효과를 일으키지 않아야 한다.
특히, 외부 상태를 변경하거나 예상치 못한 출력을 만드는 것은 위험하다.
출력 인수 역시 가능하면 피하고, 상태 변경이 필요하다면 함수가 속한 객체의 상태를 수정하는 방식으로 제한해야 한다.
또한 명령(Command) 과 조회(Query) 는 분리해야 하며, 둘 중 하나만 수행하는 것이 바람직하다.

5. 오류 처리

오류를 반환 코드로 처리하기보다는 예외(Exception) 를 사용하는 것이 좋다.
예외는 새로운 예외 클래스를 추가하기 쉽고, 기존 코드를 재컴파일하지 않아도 확장 가능하다.
또한 try-catch 블록은 별도의 함수로 분리하여, 오류 처리 자체도 하나의 작업으로 명확히 분리해야 한다.

6. 반복하지 말 것

“Don’t Repeat Yourself (DRY)” 원칙을 지켜라.
중복 코드는 유지보수를 어렵게 하고, 수정 시 버그의 원인이 된다.

7. 함수의 구조와 가독성

다익스트라의 구조적 프로그래밍 원칙에 따르면 함수는 입구와 출구가 하나만 존재해야 한다.
하지만 함수가 충분히 작다면, 여러 return, break, continue 문을 사용하는 것이 오히려 가독성을 높일 수도 있다.
핵심은 의도를 명확히 드러내는 코드 구조다.

8. 주석보다 표현력

주석은 “필요악”이다.
주석이 필요하다는 건 코드만으로 의도가 드러나지 않는다는 뜻이다.
주석은 코드보다 빨리 낡고, 유지보수가 어렵기 때문에, 주석이 필요 없는 코드를 작성하는 데 집중해야 한다.
법적 안내, 의도 설명, 경고, TODO 등 진짜 필요한 주석만 유지하고, 나머지는 코드로 표현하는 것이 좋다.

9. 코드 스타일과 레이아웃

코드는 글처럼 읽혀야 한다.
서로 밀접한 개념의 코드는 세로로 가깝게, 독립된 개념은 빈 줄로 분리해라.
변수는 사용하는 위치 근처에 선언하되, 인스턴스 변수는 클래스 맨 위에 선언하는 것이 좋다.
함수 간 호출 관계가 있다면, 두 함수는 세로로 가까이 배치하라.
가로 공백은 관계의 강도를 표현하는 수단이다 —
예를 들어, = 양쪽에는 공백을 두어 강조하고, 함수 이름과 괄호 사이에는 공백을 넣지 않는다.

10. 프로그래밍은 글쓰기다

결국 코드를 짜는 행위는 글을 쓰는 것과 같다.
처음에는 생각을 그대로 코드로 옮기고, 그다음에 가독성과 구조를 다듬어 나간다.
대가 프로그래머는 시스템을 단순히 ‘구현해야 할 프로그램’이 아니라, ‘이야기를 풀어내는 글’로 바라본다.
함수는 동사, 클래스는 명사이며, 이들이 합쳐져 읽기 좋은 언어를 이루는 것이다.

<마무리>
오늘 구현한 코드의 가독성은 내일 바뀔 코드의 품질을 결정한다.
깨끗한 이름, 작고 명확한 함수, 표현력 있는 코드가 결국 좋은 시스템을 만든다.
